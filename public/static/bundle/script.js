(()=>{"use strict";var t=100,e=function(t){this.y=t.height/2-50,this.score=0},i=function(){function i(t){var i=this;this.canvas=t,this.player=new e(t),this.oppenent=new e(t),this.ball={x:t.width/2,y:t.height/2,speed:{x:4,y:2}},this.canvas.addEventListener("mousemove",(function(t){return i.playerMove(t)}))}return i.prototype.draw=function(){var e=this.canvas.getContext("2d");e.fillStyle="black",e.fillRect(0,0,this.canvas.width,this.canvas.height),e.strokeStyle="white",e.beginPath(),e.moveTo(this.canvas.width/2,0),e.lineTo(this.canvas.width/2,this.canvas.height),e.stroke(),e.fillStyle="white",e.fillRect(30,this.player.y,5,t),e.fillRect(this.canvas.width-5-30,this.oppenent.y,5,t),e.beginPath(),e.fillStyle="white",e.arc(this.ball.x,this.ball.y,5,0,2*Math.PI,!1),e.fill()},i.prototype.changeDirection=function(t){var e=this.ball.y-t-50;this.ball.speed.y=2*e/10},i.prototype.playerMove=function(e){var i=this.canvas.getBoundingClientRect(),s=e.clientY-i.y;s<50?this.player.y=0:s>this.canvas.height-50?this.player.y=this.canvas.height-t:this.player.y=s-50},i.prototype.computerMove=function(){this.oppenent.y+=.85*this.ball.speed.y},i.prototype.collide=function(e){this.ball.y>=e.y&&this.ball.y<=e.y+t&&(this.ball.speed.x*=-1.1,this.changeDirection(e.y))},i.prototype.score=function(t){this.ball.x=this.canvas.width/2,this.ball.y=this.canvas.height/2,this.player.y=this.canvas.height/2-50,this.oppenent.y=this.canvas.height/2-50,this.ball.speed.x=4,t.score++},i.prototype.ballMove=function(){(this.ball.y>this.canvas.height||this.ball.y<0)&&(this.ball.speed.y*=-1),this.ball.x>this.canvas.width-40&&this.ball.x<=this.canvas.width-40+this.ball.speed.x?this.collide(this.oppenent):this.ball.x<40&&this.ball.x>=40+this.ball.speed.x&&this.collide(this.player),this.ball.x>=this.canvas.width?(this.score(this.player),document.querySelector("#player-score").textContent=this.player.score.toString()):this.ball.x<=0&&(this.score(this.oppenent),document.querySelector("#oppenent-score").textContent=this.oppenent.score.toString()),this.ball.x+=this.ball.speed.x,this.ball.y+=this.ball.speed.y},i.prototype.play=function(){var t=this;this.draw(),this.computerMove(),this.ballMove(),requestAnimationFrame((function(){return t.play()}))},i}();document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("canvas#canvas"),e=new i(t);e.draw(),e.play()}))})();