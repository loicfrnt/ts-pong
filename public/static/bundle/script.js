(()=>{"use strict";var t=100,i=function(t){this.y=t.height/2-50,this.score=0},e=function(){function e(t){var e=this;this.canvas=t,this.player=new i(t),this.oppenent=new i(t),this.ball={x:t.width/2,y:t.height/2,speed:{x:4,y:2}},this.canvas.addEventListener("mousemove",(function(t){return e.playerMove(t)}))}return e.prototype.draw=function(){var i=this.canvas.getContext("2d");i.fillStyle="black",i.fillRect(0,0,this.canvas.width,this.canvas.height),i.strokeStyle="white",i.beginPath(),i.moveTo(this.canvas.width/2,0),i.lineTo(this.canvas.width/2,this.canvas.height),i.stroke(),i.fillStyle="white",i.fillRect(30,this.player.y,5,t),i.fillRect(this.canvas.width-5-30,this.oppenent.y,5,t),i.beginPath(),i.fillStyle="white",i.arc(this.ball.x,this.ball.y,5,0,2*Math.PI,!1),i.fill()},e.prototype.changeDirection=function(t){var i=this.ball.y-t-50;this.ball.speed.y=2*i/10},e.prototype.playerMove=function(i){var e=this.canvas.getBoundingClientRect(),s=i.clientY-e.y;s<50?this.player.y=0:s>this.canvas.height-50?this.player.y=this.canvas.height-t:this.player.y=s-50},e.prototype.computerMove=function(){this.oppenent.y+=.85*this.ball.speed.y},e.prototype.collide=function(i){this.ball.y>=i.y&&this.ball.y<=i.y+t&&(this.ball.speed.x*=-1.1,this.changeDirection(i.y))},e.prototype.score=function(t){this.ball.x=this.canvas.width/2,this.ball.y=this.canvas.height/2,this.player.y=this.canvas.height/2-50,this.oppenent.y=this.canvas.height/2-50,this.ball.speed.x=4,t.score++},e.prototype.ballMove=function(){(this.ball.y>this.canvas.height||this.ball.y<0)&&(this.ball.speed.y*=-1),this.ball.x>this.canvas.width-30-5-5?this.collide(this.oppenent):this.ball.x<40&&this.collide(this.player),this.ball.x>=this.canvas.width?this.score(this.player):this.ball.x<=0&&this.score(this.oppenent),this.ball.x+=this.ball.speed.x,this.ball.y+=this.ball.speed.y},e.prototype.play=function(){var t=this;this.draw(),this.computerMove(),this.ballMove(),requestAnimationFrame((function(){return t.play()}))},e}();document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("canvas#canvas"),i=new e(t);i.draw(),i.play()}))})();